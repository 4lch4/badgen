// Generate on https://codesandbox.io/s/lr4ynm652m
/* eslint-disable comma-spacing */
const Arial12Widths = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.33,3.33,4.26,6.67,6.67,10.7,8,2.29,4,4,4.67,7.01,3.33,4,3.33,3.33,6.67,6.67,6.67,6.67,6.67,6.67,6.67,6.67,6.67,6.67,3.33,3.33,7.01,7.01,7.01,6.67,12.2,8,8,8.67,8.67,8,7.33,9.33,8.67,3.33,6,8,6.67,10,8.67,9.33,8,9.33,8.67,8,7.33,8.67,8,11.3,8,8,7.33,3.33,3.33,3.33,5.63,6.67,4,6.67,6.67,6,6.67,6.67,3.33,6.67,6.67,2.67,2.67,6,2.67,10,6.67,6.67,6.67,6.67,4,6,3.33,6.67,6,8.67,6,6,6,4.01,3.12,4.01,7.01]
const Verdana11Widths = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.87,4.33,5.05,9,6.99,11.8,7.99,2.95,5,5,6.99,9,4,5,4,5,6.99,6.99,6.99,6.99,6.99,6.99,6.99,6.99,6.99,6.99,5,5,9,9,9,6,11,7.52,7.54,7.68,8.48,6.96,6.32,8.53,8.27,4.63,5,7.62,6.12,9.27,8.23,8.66,6.63,8.66,7.65,7.52,6.78,8.05,7.52,10.9,7.54,6.77,7.54,5,5,5,9,6.99,6.99,6.61,6.85,5.73,6.85,6.55,3.87,6.85,6.96,3.02,3.79,6.51,3.02,10.7,6.96,6.68,6.85,6.85,4.69,5.73,4.33,6.96,6.51,9,6.51,6.51,5.78,6.98,5,6.98,9]

function calcWidth (charWidthTable) {
  const SCALE = 100
  const widthTable = charWidthTable.map(w => Math.round(w * SCALE))
  return function (text) {
    if (typeof text !== 'string') {
      return 0
    } else {
      let total = 0
      let i = text.length
      let charCode = 0
      while (i--) {
        charCode = text[i].charCodeAt()
        total += widthTable[charCode < 127 ? charCode : 64] // "@" for overflows
      }
      return total / SCALE
    }
  }
}

module.exports = {
  Arial12: calcWidth(Arial12Widths),
  Verdana11: calcWidth(Verdana11Widths)
}
